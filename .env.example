# Environment
NODE_ENV=development
PORT=5001

# Database
MONGODB_URI=mongodb://localhost:27017/admin_panel_dashboard

# JWT (only required for DEFAULT auth)
JWT_ACCESS_SECRET=your_access_secret_here
JWT_REFRESH_SECRET=your_refresh_secret_here
JWT_ACCESS_EXPIRE=15m
JWT_REFRESH_EXPIRE=7d
JWT_ISSUER=admin-panel
JWT_AUDIENCE=admin-panel-clients

# Email Configuration
EMAIL_SERVICE=gmail
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_SECURE=false
EMAIL_USER=your_email_here
EMAIL_PASS=your_email_password_here
EMAIL_FROM=your_email_here

# TFA Configuration
TFA_ENABLED=true
TFA_CODE_EXPIRY=300000
TFA_MAX_ATTEMPTS=3

# CORS
CORS_ORIGIN=http://localhost:4200

# Logging
LOG_LEVEL=info
LOG_FILE=logs/app.log

# i18n
DEFAULT_LANGUAGE=tr
DEBUG_I18N=false

# Rate Limiting
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=300

AUTH_RATE_LIMIT_WINDOW_MS=60000
AUTH_RATE_LIMIT_MAX=10

AUTH_LOGIN_IP_WINDOW_MS=60000
AUTH_LOGIN_IP_MAX=12

LOCKOUT_TIME=900000
LOCKOUT_MAX_ATTEMPTS=5

# Bcrypt
BCRYPT_SALT_ROUNDS=12

# Redis
REDIS_URL=redis://localhost:6379
REDIS_KEY_PREFIX=apd:

# Audit Export
AUDIT_EXPORT_MAX_ROWS=100000
AUDIT_EXPORT_MAX_RANGE_DAYS=60
AUDIT_EXPORT_RATE_WINDOW_MS=60000
AUDIT_EXPORT_RATE_MAX=5

# Seed Admin
SEED_ADMIN_EMAIL=your_admin_email_here
SEED_ADMIN_PASSWORD=your_admin_password_here

# Authentication Mode (HYBRID | DEFAULT | SSO)
AUTH_MODE=HYBRID

# Keycloak Configuration
KEYCLOAK_URL=http://localhost:8080
KEYCLOAK_REALM=admin-panel
KEYCLOAK_CLIENT_ID=admin-panel-client
KEYCLOAK_CLIENT_SECRET=your_keycloak_client_secret_here
KEYCLOAK_REDIRECT_URI=http://localhost:5001/api/v1/auth/keycloak/callback
KEYCLOAK_POST_LOGIN_REDIRECT_URI=http://localhost:4200/dashboard
KEYCLOAK_POST_LOGOUT_REDIRECT_URI=http://localhost:4200/login

# Keycloak Role Mapping (Keycloak role -> Local role)
KEYCLOAK_ROLE_MAPPING={"realm:super_admin":"super_admin","realm:admin":"admin","realm:moderator":"moderator","realm:user":"user"}

# Session Configuration
SESSION_SECRET=your_session_secret_here
SESSION_TTL_MS=604800000
SESSION_REDIS_PREFIX=apd:sess:

# Keycloak Admin API
KEYCLOAK_ADMIN_CLIENT_ID=apd-admin
KEYCLOAK_ADMIN_CLIENT_SECRET=your_keycloak_admin_secret_here

# Keycloak Periodic Sync (optional, default: disabled)
KEYCLOAK_SYNC_ENABLED=false
KEYCLOAK_SYNC_MODE=local-follow   # or realm-scan
KEYCLOAK_SYNC_INTERVAL_MS=3000   # 30 seconds
KEYCLOAK_SYNC_BATCH_SIZE=100
